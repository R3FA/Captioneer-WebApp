<app-header-component></app-header-component>
<div class="main-container" *ngIf="shouldLoad">
    <div class="sub-container">
        <div class="profile-mat-card-div">
            <mat-card class="profile-mat-card">
                <div class="mat-card-container">
                    <div class="picture-profile-div">
                        <img src={{this.userService.userData.profileImage}} class="picture-profile">
                    </div>
                    <div class="username-profile-div">
                        <div class="username">
                            <h2>{{this.userService.userData.username}}</h2>
                        </div>
                        <div class="role">
                            <h5>{{this.userService.userData.designation}}</h5>
                        </div>
                    </div>
                    <div class="userPage-info">
                        <div class="userPage-info-designation">
                            <div class="social-div">
                                <div class="social-div-center">
                                    <h6>Follower:{{this.followCount.getfollowingCount}}</h6>
                                    <h6>Following:{{this.followCount.getfollowerCount}}</h6>
                                    <button (click)="gotoAddFriends()" mat-flat-button class="message-button"
                                        *ngIf="!this.userService.isButtonHidden">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                            fill="currentColor" class="bi bi-person-plus-fill" viewBox="0 0 16 16">
                                            <path
                                                d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                                            <path fill-rule="evenodd"
                                                d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z" />
                                        </svg>
                                        Add a friend
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="message-and-settings">
                        <button class="searchUsersButton" mat-flat-button (click)="gotoSearchUserComponent()"
                            *ngIf="!this.userService.isButtonHidden">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-search" viewBox="0 0 16 16">
                                <path
                                    d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
                            </svg>
                            Find an user
                        </button>

                        <button (click)="gotoMessages()" mat-flat-button class="message-button"
                            *ngIf="!this.userService.isButtonHidden">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-chat-left-dots-fill" viewBox="0 0 16 16">
                                <path
                                    d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793V2zm5 4a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                            </svg>
                            {{'MessageButton' | translate}}
                        </button>

                        <button (click)="togglePublicInfo()" mat-flat-button class="editPage-button"
                            *ngIf="!this.userService.isButtonHidden">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-pen-fill" viewBox="0 0 16 16">
                                <path
                                    d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z" />
                            </svg>
                            {{ showEditProfile ? ('BackButton' | translate) : 'EditProfileButton' | translate }}
                        </button>


                        <button *ngIf="!this.userService.userData.isBanned" (click)="banUser()" mat-flat-button
                            class="editPage-button" id="banButton">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                                <path
                                    d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z" />
                            </svg>
                            BAN User
                        </button>
                        <button *ngIf="this.userService.userData.isBanned" (click)="banUser()" mat-flat-button
                        class="editPage-button" id="banButton">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                        <path
                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z" />
                    </svg>
                    UNBAN User
                </button>
                <p *ngIf="this.userAdminStatus">
                    <button *ngIf="!this.showedUserAdminStatus" (click)="makeAdmin()" mat-flat-button
                        class="editPage-button" id="adminButtons">
                        Make Admin
                    </button>
                    <button *ngIf="this.showedUserAdminStatus" (click)="removeAdmin()" mat-flat-button
                    class="editPage-button" id="adminButtons">
                    Remove Admin
                    </button>
                </p>>
                    </div>
                </div>
            </mat-card>
        </div>
        <div class="info-container">
            <div class="personal-info-mat-card-div">
                <mat-card class="personal-info-mat-card">
                    <div class="personal-main-title">
                        <h5>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-file-earmark-person-fill" viewBox="0 0 16 16">
                                <path
                                    d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm2 5.755V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-.245S4 12 8 12s5 1.755 5 1.755z" />
                            </svg>
                            {{'PersonalInfo' | translate}}:
                        </h5>
                    </div>
                    <hr>
                    <div class="field-data">
                        <div class="data-responsive">
                            <h5>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-postcard-fill" viewBox="0 0 16 16">
                                    <path d="M11 8h2V6h-2v2Z" />
                                    <path
                                        d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm8.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7ZM2 5.5a.5.5 0 0 0 .5.5H6a.5.5 0 0 0 0-1H2.5a.5.5 0 0 0-.5.5ZM2.5 7a.5.5 0 0 0 0 1H6a.5.5 0 0 0 0-1H2.5ZM2 9.5a.5.5 0 0 0 .5.5H6a.5.5 0 0 0 0-1H2.5a.5.5 0 0 0-.5.5Zm8-4v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5Z" />
                                </svg>
                                {{'Username' | translate}}:
                            </h5>
                            <h6>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-caret-right-fill" viewBox="0 0 16 16">
                                    <path
                                        d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
                                </svg>
                                {{this.userService.userData.username}}
                            </h6>
                        </div>
                    </div>
                    <hr>
                    <div class="field-data">
                        <div class="data-responsive">
                            <h5>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-envelope-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z" />
                                </svg>
                                {{'Email' | translate}}:
                            </h5>
                            <h6>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-caret-right-fill" viewBox="0 0 16 16">
                                    <path
                                        d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
                                </svg>
                                {{this.userService.userData.email}}
                            </h6>
                        </div>
                    </div>
                    <hr>
                    <div class="field-data">
                        <div class="data-responsive">
                            <h5>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-badge-cc-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2zm3.027 4.002c-.83 0-1.319.642-1.319 1.753v.743c0 1.107.48 1.727 1.319 1.727.69 0 1.138-.435 1.186-1.05H7.36v.114c-.057 1.147-1.028 1.938-2.342 1.938-1.613 0-2.518-1.028-2.518-2.729v-.747C2.5 6.051 3.414 5 5.018 5c1.318 0 2.29.813 2.342 2v.11H6.213c-.048-.638-.505-1.108-1.186-1.108zm6.14 0c-.831 0-1.319.642-1.319 1.753v.743c0 1.107.48 1.727 1.318 1.727.69 0 1.139-.435 1.187-1.05H13.5v.114c-.057 1.147-1.028 1.938-2.342 1.938-1.613 0-2.518-1.028-2.518-2.729v-.747c0-1.7.914-2.751 2.518-2.751 1.318 0 2.29.813 2.342 2v.11h-1.147c-.048-.638-.505-1.108-1.187-1.108z" />
                                </svg>
                                {{'SubtitleUploads' | translate}}:
                            </h5>
                            <h6>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-caret-right-fill" viewBox="0 0 16 16">
                                    <path
                                        d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
                                </svg>
                                {{this.userService.userData.subtitleUpload}}
                            </h6>
                        </div>
                    </div>
                    <hr>
                    <div class="field-data">
                        <div class="data-responsive">
                            <h5>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-badge-cc-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2zm3.027 4.002c-.83 0-1.319.642-1.319 1.753v.743c0 1.107.48 1.727 1.319 1.727.69 0 1.138-.435 1.186-1.05H7.36v.114c-.057 1.147-1.028 1.938-2.342 1.938-1.613 0-2.518-1.028-2.518-2.729v-.747C2.5 6.051 3.414 5 5.018 5c1.318 0 2.29.813 2.342 2v.11H6.213c-.048-.638-.505-1.108-1.186-1.108zm6.14 0c-.831 0-1.319.642-1.319 1.753v.743c0 1.107.48 1.727 1.318 1.727.69 0 1.139-.435 1.187-1.05H13.5v.114c-.057 1.147-1.028 1.938-2.342 1.938-1.613 0-2.518-1.028-2.518-2.729v-.747c0-1.7.914-2.751 2.518-2.751 1.318 0 2.29.813 2.342 2v.11h-1.147c-.048-.638-.505-1.108-1.187-1.108z" />
                                </svg>
                                {{'SubtitleDownloads' | translate}}:
                            </h5>
                            <h6>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-caret-right-fill" viewBox="0 0 16 16">
                                    <path
                                        d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
                                </svg>
                                {{this.userService.userData.subtitleDownload}}
                            </h6>
                        </div>
                    </div>
                    <hr>
                    <div class="field-data">
                        <div class="data-responsive">
                            <h5>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-translate" viewBox="0 0 16 16">
                                    <path
                                        d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286H4.545zm1.634-.736L5.5 3.956h-.049l-.679 2.022H6.18z" />
                                    <path
                                        d="M0 2a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v3h3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3H2a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2zm7.138 9.995c.193.301.402.583.63.846-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6.066 6.066 0 0 1-.415-.492 1.988 1.988 0 0 1-.94.31z" />
                                </svg>
                                {{'PreferredLanguages' | translate}}:
                            </h5>
                            <div class="userLangDiV">
                                <h6 *ngFor="let langauges of this.userService.userData.prefferedLanguages">
                                    {{langauges.englishLanguageName}}
                                </h6>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="field-data">
                        <div class="data-responsive">
                            <h5>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-emoji-smile-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z" />
                                </svg>
                                {{'FunFact' | translate}}:
                            </h5>
                            <h6>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-caret-right-fill" viewBox="0 0 16 16">
                                    <path
                                        d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
                                </svg>
                                {{this.userService.userData.funFact}}
                            </h6>
                        </div>
                    </div>
                </mat-card>
            </div>
            <div [hidden]="showEditProfile" class="public-info-mat-card-div">
                <router-outlet *ngIf="this.userService.userSearchComponentClicked"></router-outlet>
                <mat-card class="public-info-mat-card" *ngIf="!this.userService.userSearchComponentClicked">
                    <div class="page-information">
                        <!-- MORAS URADIT OVO -->
                        <div class="favoriteMovieDIV">
                            <h4 *ngIf="!this.userService.addFriendComponentClicked">
                                {{this.userService.userData.username}}</h4>
                            <h6 *ngIf="!this.userService.addFriendComponentClicked">FAVORITE MOVIE AND TV SHOWS</h6>
                            <h6 *ngIf="this.userService.addFriendComponentClicked">FIND FRIENDS</h6>
                            <router-outlet *ngIf="this.userService.addFriendComponentClicked"></router-outlet>
                        </div>
                    </div>
                    <hr>
                    <div class="favorite-movies-div">
                        <app-favorites-graphics></app-favorites-graphics>
                    </div>
                </mat-card>
            </div>
            <div [hidden]="!showEditProfile" class="public-info-mat-card-div">
                <mat-card class="public-info-mat-card">
                    <div class="btn-group" role="group">
                        <input (change)="toggleForm($event)" type="radio" class="btn-check" name="btnradio"
                            id="changeEmailBtn" autocomplete="off" checked>
                        <label class="editprofile-button" for="changeEmailBtn">{{'ChangeEmail' | translate}}</label>

                        <input (change)="toggleForm($event)" type="radio" class="btn-check" name="btnradio"
                            id="changeUsernameBtn" autocomplete="off">
                        <label class="editprofile-button" for="changeUsernameBtn">{{'ChangeUsername' |
                            translate}}</label>

                        <input (change)="toggleForm($event)" type="radio" class="btn-check" name="btnradio"
                            id="changePasswordBtn" autocomplete="off">
                        <label class="editprofile-button" for="changePasswordBtn">{{'ChangePassword' |
                            translate}}</label>

                        <input (change)="toggleForm($event)" type="radio" class="btn-check" name="btnradio"
                            id="changeProfileImageBtn" autocomplete="off">
                        <label class="editprofile-button" for="changeProfileImageBtn">{{'ChangeProfileImage' |
                            translate}}</label>

                        <input (change)="toggleForm($event)" type="radio" class="btn-check" name="btnradio"
                            id="editPublicInformationBtn" autocomplete="off">
                        <label class="editprofile-button" for="editPublicInformationBtn">{{"ChangePublicInformation" |
                            translate}}</label>

                        <input (change)="toggleForm($event)" type="radio" class="btn-check" name="btnradio"
                            id="deleteProfileBtn" autocomplete="off">
                        <label class="editprofile-button" for="deleteProfileBtn">{{'DeleteAccount' | translate}}</label>


                    </div>
                    <div class="editprofile-div">
                        <div [hidden]="!successText" class="alert alert-success" role="alert">{{ successText }}</div>
                        <div [hidden]="!errorText" class="alert alert-danger" role="alert">{{ errorText }}</div>
                        <div [hidden]="!requestInProgress" class="spinner-border" role="status">
                            <span class="visually-hidden">{{'Loading' | translate}}</span>
                        </div>
                        <form [hidden]="!showChangeEmailForm" [formGroup]="changeEmailForm" (ngSubmit)="changeEmail()">
                            <div class="mb-3">
                                <label for="enterPassword" class="form-label">{{'CurrentPassword' | translate}}</label>
                                <input type="password" name="enterPassword" formControlName="enterPassword"
                                    [ngClass]="{'is-invalid':submitted && changeEmailForm.controls['enterPassword'].errors}"
                                    class="form-control">
                                <div class="error-text"
                                    *ngIf="submitted && changeEmailForm.controls['enterPassword'].errors">
                                    {{'EnterPassword' | translate}}.</div>
                                <div class="form-text">{{'PasswordConfirm' | translate}}</div>
                            </div>

                            <div class="mb-3">
                                <label for="enterEmail" class="form-label">{{'NewEmail' | translate}}</label>
                                <input type="email" name="enterEmail" formControlName="enterEmail" class="form-control"
                                    [ngClass]="{'is-invalid':submitted && changeEmailForm.controls['enterEmail'].errors}"
                                    aria-describedby="emailHelp">
                                <div class="error-text"
                                    *ngIf="submitted && changeEmailForm.controls['enterEmail'].errors">{{'EnterEmail' |
                                    translate}}</div>
                            </div>
                            <button type="submit" mat-flat-button class="submit-button">{{'SubmitButton' |
                                translate}}</button>
                        </form>
                        <form [hidden]="!showChangeUsernameForm" [formGroup]="changeUsernameForm"
                            (ngSubmit)="changeUsername()">
                            <div class="mb-3">
                                <label for="enterPassword" class="form-label">{{'CurrentPassword' | translate}}</label>
                                <input type="password" name="enterPassword" formControlName="enterPassword"
                                    [ngClass]="{'is-invalid':submitted && changeUsernameForm.controls['enterPassword'].errors}"
                                    class="form-control">
                                <div class="error-text"
                                    *ngIf="submitted && changeUsernameForm.controls['enterPassword'].errors">
                                    {{'EnterPassword' | translate}}</div>
                                <div class="form-text">{{'PasswordConfirm' | translate}}</div>
                            </div>

                            <div class="mb-3">
                                <label for="enterUsername" class="form-label">{{'NewUsername' | translate}}</label>
                                <input type="username" name="enterUsername" formControlName="enterUsername"
                                    [ngClass]="{'is-invalid':submitted && changeUsernameForm.controls['enterUsername'].errors}"
                                    class="form-control">
                                <div class="error-text"
                                    *ngIf="submitted && changeUsernameForm.controls['enterUsername'].errors">
                                    {{'UsernameLength' | translate}}</div>
                            </div>
                            <button type="submit" mat-flat-button class="submit-button">{{'SubmitButton' |
                                translate}}</button>
                        </form>
                        <form [hidden]="!showChangePasswordForm" [formGroup]="changePasswordForm"
                            (ngSubmit)="changePassword()">
                            <div class="mb-3">
                                <label for="enterPassword" class="form-label">{{'CurrentPassword' | translate}}</label>
                                <input type="password" name="enterPassword" formControlName="enterPassword"
                                    [ngClass]="{'is-invalid':submitted && changePasswordForm.controls['enterPassword'].errors}"
                                    class="form-control">
                                <div class="error-text"
                                    *ngIf="submitted && changePasswordForm.controls['enterPassword'].errors">
                                    {{'EnterPassword' | translate}}</div>
                                <div class="form-text">{{'PasswordConfirm' | translate}}</div>
                            </div>

                            <div class="mb-3">
                                <label for="enterNewPassword" class="form-label">{{'NewPassword' | translate}}</label>
                                <input type="password" name="enterNewPassword" formControlName="enterNewPassword"
                                    [ngClass]="{'is-invalid':submitted && changePasswordForm.controls['enterNewPassword'].errors}"
                                    class="form-control">
                                <div class="error-text"
                                    *ngIf="submitted && changePasswordForm.controls['enterNewPassword'].errors">
                                    {{'PasswordLength' | translate}}</div>
                            </div>

                            <div class="mb-3">
                                <label for="enterNewPasswordRepeat" class="form-label">{{'PasswordRepeat' |
                                    translate}}</label>
                                <input type="password" name="enterNewPasswordRepeat"
                                    formControlName="enterNewPasswordRepeat"
                                    [ngClass]="{'is-invalid':submitted && changePasswordForm.controls['enterNewPasswordRepeat'].errors}"
                                    class="form-control">
                                <div class="error-text"
                                    *ngIf="submitted && changePasswordForm.controls['enterNewPasswordRepeat'].errors">
                                    {{'PasswordRepeatError' | translate}}</div>
                            </div>
                            <button type="submit" mat-flat-button class="submit-button">{{'SubmitButton' |
                                translate}}</button>
                        </form>
                        <form [hidden]="!showDeleteProfileForm" [formGroup]="deleteProfileForm"
                            (ngSubmit)="deleteProfile()">
                            <div class="mb-3">
                                <label for="enterPassword" class="form-label">{{'CurrentPassword' | translate}}</label>
                                <input type="password" name="enterPassword" formControlName="enterPassword"
                                    [ngClass]="{'is-invalid':submitted && changePasswordForm.controls['enterPassword'].errors}"
                                    class="form-control">
                                <div class="error-text"
                                    *ngIf="submitted && changePasswordForm.controls['enterPassword'].errors">
                                    {{'EnterPassword' | translate}}</div>
                                <div class="form-text">{{'PasswordConfirm' | translate}}</div>
                            </div>

                            <button type="submit" mat-flat-button class="submit-button">{{'DeleteAccount' |
                                translate}}</button>
                            <div class="error-text">{{'DeleteAccountWarning' | translate}}</div>
                        </form>
                        <form [hidden]="!showChangeProfileImageForm" [formGroup]="changeProfileImageForm">
                            <div class="mb-3">
                                <label for="enterNewImage" class="form-label">{{'NewImage' | translate}}</label>

                                <div class="file-upload">
                                    {{ fileName || 'NoFileSelected' | translate }}
                                    <button #imageUploadBtn id="imageUploadBtn" type="submit" mat-flat-button
                                        class="submit-button" (click)="fileUpload.click()">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                            fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                                            <path
                                                d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
                                            <path
                                                d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z" />
                                        </svg>
                                    </button>
                                </div>
                                <input #fileUpload id="fileUpload" type="file" name="enterNewImage"
                                    formControlName="enterNewImage"
                                    [ngClass]="{'is-invalid':submitted && changeProfileImageForm.controls['enterNewImage'].errors}"
                                    (change)="validateFileUpload($event)">
                                <div class="error-text"
                                    *ngIf="submitted && changeProfileImageForm.controls['enterNewImage'].errors">
                                    {{'ProfileImageError' | translate}}</div>
                            </div>
                        </form>
                        <!-- ovdje -->
                        <form [hidden]="!showChangePublicInformationForm" [formGroup]="changePublicInformationForm">
                            <div class="publicInfoMainDiv">
                                <div class="mb-3">
                                    <label for="enterPassword" class="form-label">{{'CurrentPassword' |
                                        translate}}</label>
                                    <input type="password" name="enterPassword" formControlName="enterPassword"
                                        [ngClass]="{'is-invalid':submitted && changePasswordForm.controls['enterPassword'].errors}"
                                        class="form-control">
                                    <div class="error-text"
                                        *ngIf="submitted && changePasswordForm.controls['enterPassword'].errors">
                                        {{'EnterPassword' | translate}}</div>
                                    <div class="form-text">{{'PasswordConfirm' | translate}}</div>
                                </div>

                                <div class="mb-3">
                                    <label for="enterfunFact" class="form-label">{{'InsertFunFact' |
                                        translate}}:</label>
                                    <input class="inputPubInfo" name="enterfunFact" formControlName="enterfunFact"
                                        maxlength="25" value={{funFact}}>
                                </div>
                                <div class="mb-3">
                                    <label for="enterPreferredLanguage" class="form-label">{{'InsertPrefferedLanguage' |
                                        translate}}</label>
                                    <select class="form-select form-select-sm" aria-label=".form-select-sm example"
                                        name="enterPreferredLanguage" formControlName="enterPreferredLanguage"
                                        [(ngModel)]="prefferedLanguage">
                                        <option value="0">Choose language</option>
                                        <option id="prefferedLanguageOption" *ngFor="let language of getLanguages">
                                            {{language.englishName}}</option>
                                    </select>
                                </div>
                                <div class="btn-Div">
                                    <button class="deleteLangaugeBtn" mat-flat-button
                                        (click)="deleteUserLanguage()">{{'DeleteButton' | translate}}</button>
                                    <button (click)="changePublicInformation()" type="submit" mat-flat-button
                                        class="submit-button">{{'SubmitButton' |
                                        translate}}</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </mat-card>
            </div>
        </div>
    </div>
</div>
<app-footer-component></app-footer-component>